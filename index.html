<!DOCTYPE html>
<html>
<head>
	<title></title>
	<style>
		div {
			position: absolute;
			top: 20%;
			left: 30%;
			padding: 30px;
			max-width: 400px;
			margin: 0 auto;
			font-size: small;
			background: gainsboro;
			border-radius: 10px;
		}
		.invalid {
			border-bottom: 1px dotted #FF0000;
			background: #FFFFE0;
		}
		input, button {
			height: 25px;
			border-width: 2px;
			padding: 5px;
			margin: 0;
			box-sizing: border-box;
		}
		input:focus {
			outline: none;
		}
	</style>
	<script>

		/*
		 Add String.contains for not supported browsers.
		 */
		if (!('contains' in String.prototype)) {
			String.prototype.contains = function (str, startIndex) {
				return -1 !== String.prototype.indexOf.call(this, str, startIndex);
			};
		}

		/*
		 Add String.startsWith for not supported browsers.
		 */
		if (!String.prototype.startsWith) {
			Object.defineProperty(String.prototype, 'startsWith', {
				enumerable: false,
				configurable: false,
				writable: false,
				value: function (searchString, position) {
					position = position || 0;
					return this.indexOf(searchString, position) === position;
				}
			});
		}

		/*
		 Add String.endsWith for not supported browsers.
		 */
		if (!String.prototype.endsWith) {
			Object.defineProperty(String.prototype, 'endsWith', {
				enumerable: false,
				configurable: false,
				writable: false,
				value: function (searchString, position) {
					position = position || this.length;
					position = position - searchString.length;
					return this.lastIndexOf(searchString) === position;
				}
			});
		}


		document.addEventListener('click', function (e) {
			if (e.target.tagName.toLowerCase() == 'button') {
				if (document.querySelector('#xStorageUrl').value == '') {
					document.querySelector('#xStorageUrl').classList.add('invalid');
					document.querySelector('#xStorageUrl').focus();
					return;
				}
				if (document.querySelector('#account').value == '') {
					document.querySelector('#account').classList.add('invalid');
					document.querySelector('#account').focus();
					return;
				}

				var xStorageUrl;
				if (document.querySelector('#xStorageUrl').value.endsWith('/')) {
					xStorageUrl = document.querySelector('#xStorageUrl').value;
				} else {
					xStorageUrl = document.querySelector('#xStorageUrl').value + '/';
				}

				window.location = 'old.html?xStorageUrl=' +
						encodeURIComponent(xStorageUrl) +
						'&account=' +
						encodeURIComponent(document.querySelector('#account').value);
			}
		});
		document.addEventListener('keypress', function (e) {
			if (e.target.id == 'xStorageUrl' || e.target.id == 'account') {
				e.target.classList.remove('invalid');
			}
			if (e.which == 13 && e.target.id == 'xStorageUrl') {
				document.querySelector('#account').focus();
			}
			if (e.which == 13 && e.target.id == 'account') {
				document.querySelector('button').click();
			}
		});
	</script>
</head>
<body>
	<div>
		<input autocomplete="off" id="xStorageUrl" placeholder="X Storage URL">
		<input autocomplete="off" id="account" placeholder="Account">
		<button autocomplete="off">Go</button>
	</div>
</body>
</html>