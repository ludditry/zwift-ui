<!DOCTYPE html>
<html>
<head>
    <title>LiteStack</title>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <script src="js/jquery.js"></script>
    <script src="js/jquery-ui.js"></script>
    <script src="js/querystring.js"></script>
    <script src="js/string.js"></script>
    <script src="FileStorage.js"></script>
    <script src="js/script.js"></script>

    <link href="css/style.css" rel="stylesheet">
</head>
<body class="enabled">


<div style="position: absolute;top:0;bottom: 0;right: 0;left: 0;z-index: 0;" id="screen" class="click-to-unselect"></div>

<div id="center" hidden>

        <table id="divider">
            <tr><!--style="border-radius: 5px;"-->
                <td id="header">
                    <table id="header-divider">
                        <tr><!--style="border-radius: 5px;"-->
                            <td class="size34px">
                                <button autocomplete="off" id="back-button" class="size32px header-disabled-button"></button>
                            </td>
                            <td>
                                <span id="title" data-path=""></span><span id="file-edited"></span><button autocomplete="off" id="save-as-button" hidden>Save As...</button>
                            </td>
                            <td class="size34px">
                                <button autocomplete="off" id="new-tab-button" class="size32px header-enabled-button" title="Full screen" hidden></button>
                                <button autocomplete="off" id="save-button" class="size32px header-enabled-button" title="Save" hidden></button><!--
                                --><div id="add-files-menu" class="add-menu" hidden><!--
                                    --><div id="create-directory-button"><img src="img/folder.png">Create Directory</div><!--
                                    --><div style="position: relative;"><span><input autocomplete="off" class="upload-button" type="file" name="files[]" multiple style="opacity: 0;position: absolute;width: 100%;"></span><img src="img/upload.png">Upload Files</div><!--
                                    --><div style="position: relative;" id="upload-as-button"><span><input autocomplete="off" class="upload-as-button" type="file" name="files[]" multiple style="opacity: 0;position: absolute;width: 100%;"></span><img src="img/upload-as.png">Upload As...</div><!--
                                    --><div style="position: relative;"><span><input autocomplete="off" id="execute-button" type="file" name="files[]" style="opacity: 0;position: absolute;width: 100%;"></span><img src="img/execute.png">Upload & Execute</div><!--
                                    --><div id="create-text-file-button"><img src="img/file_txt.png">Create Text File</div><!--
                                --></div><!--
                                --><div id="add-containers-menu" class="add-menu" hidden><!--
                                    --><div id="create-container-button"><img src="img/box.png">Create Container</div><!--
                                    --><!--<div id="add-shared-button"><img src="img/shared-box.png">Shared Container</div>--><!--
                                --></div><!--
                                --><button autocomplete="off" id="add-button" class="size32px header-enabled-button" title="Add"></button>
                            </td>
                            <td class="size34px">
                                <button autocomplete="off" id="logout-button" class="size32px header-enabled-button" title="Logout"></button>
                            </td>
                        </tr>
                    </table>

                    <div id="error-msg" hidden>
                        The server returned "<span class="textStatus"></span>: <span class="errorThrown"></span>".
                        <span class="reload">Do you want refresh the page?</span>
                    </div>
                    <div id="errorMessage" hidden>
                        <span class="error"></span>
                        <span class="reload">Do you want refresh the page?</span>
                    </div>


                    <div id="macro-dialog" class="dialog-bar" hidden>
                        <table>
                            <tr>
                                <td style="background-color: white;border-radius: 2px;height: 28px;">
                                    <input autocomplete="off" id="macro-command" placeholder="Macro Command" style="margin: 0 1%;width: 98%;border: 0;">
                                </td>
                                <td style="width: 80px;">
                                    <button autocomplete="off" id="macro-ok-button">OK</button>
                                </td>
                                <td style="width: 80px;">
                                    <button autocomplete="off" id="macro-cancel-button">Cancel</button>
                                </td>
                            </tr>
                        </table>
                    </div>

                    <div id="create-container-dialog" class="dialog-bar" hidden>
                        <table><tr><td style="background-color: white;border-radius: 2px;height: 28px;"><input autocomplete="off" id="container-name" placeholder="Container Name" style="margin: 0 1%;width: 98%;border: 0;"></td><td style="width: 80px;"><button autocomplete="off" id="create-ok-button">OK</button></td><td style="width: 80px;"><button autocomplete="off" id="create-cancel-button">Cancel</button></td></tr>
                            <tr hidden id="container-exists"><td colspan="3" style="color: rgb(255, 197, 197);">Container is already exists.</td></tr>
                            <tr hidden id="container-max-length"><td colspan="3" style="color: rgb(255, 197, 197);">Container name must be until 256 characters.</td></tr>
                            <tr hidden id="container-slash"><td colspan="3" style="color: rgb(255, 197, 197);">Container name cannot have a slash (/) character.</td></tr>
                        </table>
                    </div>
                    <div id="shared-container-dialog" class="dialog-bar" hidden>
                        <table>
                            <tr>
                                <td style="background-color: white;border-radius: 2px;height: 28px;"><input autocomplete="off" id="shared-account-name" placeholder="Account Name" style="margin: 0 1%;width: 98%;border: 0;"></td>
                                <td style="background-color: white;border-radius: 2px;height: 28px;"><input autocomplete="off" id="shared-container-name" placeholder="Container Name" style="margin: 0 1%;width: 98%;border: 0;"></td>
                                <td style="width: 80px;"><button autocomplete="off" id="shared-ok-button">OK</button></td>
                                <td style="width: 80px;"><button autocomplete="off" id="shared-cancel-button">Cancel</button></td></tr>
                            <tr hidden id="shared-container-error"><td colspan="3" style="color: rgb(255, 197, 197);">Cannot add specified container.</td></tr>
                        </table>
                    </div>
                    <div id="create-directory-dialog" class="dialog-bar" hidden>
                        <table><tr><td style="background-color: white;border-radius: 2px;height: 28px;"><input autocomplete="off" id="directory-name" placeholder="Directory Name" style="margin: 0 1%;width: 98%;border: 0;"></td><td style="width: 80px;"><button autocomplete="off" id="directory-ok-button">OK</button></td><td style="width: 80px;"><button autocomplete="off" id="directory-cancel-button">Cancel</button></td></tr>
                            <tr hidden id="directory-exists"><td colspan="3" style="color: rgb(255, 197, 197);">Directory is already exists.</td></tr>
                            <tr hidden id="directory-slash"><td colspan="3" style="color: rgb(255, 197, 197);">Directory name cannot have a slash (/) character.</td></tr>
                        </table>
                    </div>



                    <div id="create-text-file-dialog" class="dialog-bar" hidden>
                        <table><tr><td style="background-color: white;border-radius: 2px;height: 28px;"><input autocomplete="off" id="create-text-file-name" placeholder="Text File Name" style="margin: 0 1%;width: 98%;border: 0;"></td><td style="width: 80px;"><button autocomplete="off" id="create-text-file-ok-button">Create</button></td><td style="width: 80px;"><button autocomplete="off" id="create-text-file-cancel-button">Cancel</button></td></tr>
                            <tr hidden id="create-text-file-exists"><td colspan="3" style="color: rgb(255, 197, 197);">File is already exists.</td></tr>
                            <tr hidden id="create-text-file-max-length"><td colspan="3" style="color: rgb(255, 197, 197);">File name must be until 256 characters.</td></tr>
                            <tr hidden id="create-text-file-slash"><td colspan="3" style="color: rgb(255, 197, 197);">File name cannot have a slash (/) character.</td></tr>
                        </table>
                    </div>

                    <div id="save-as-dialog" class="dialog-bar" hidden>
                        <table><tr><td style="background-color: white;border-radius: 2px;height: 28px;"><input autocomplete="off" id="save-as-path" placeholder="Path" style="margin: 0 1%;width: 98%;border: 0;"></td><td style="width: 80px;"><button autocomplete="off" id="save-as-ok-button">OK</button></td><td style="width: 80px;"><button autocomplete="off" id="save-as-cancel-button">Cancel</button></td></tr>
                        </table>
                    </div>

                    <div id="copy-dialog" class="dialog-bar" hidden>
                        <style>
                            #file-to-copy {
                                color:white;border-radius: 2px;height: 28px;padding: 0 5px;
                            }
                            #copy-change-name {
                                background: transparent;border: transparent;text-decoration: underline;color: white;min-width: 0;cursor: pointer;
                            }
                            #copy-change-name:hover {
                                color: #d8e6ff;
                            }
                        </style>
                        <table>
                            <tr><td id="file-to-copy"></td><td><button autocomplete="off" id="copy-change-name">Change Name</button></td><td style="width: 200px;"><button autocomplete="off" id="copy-ok-button" hidden>Copy to current directory</button><label id="same-directory-label" style="font-size: small;font-weight: bold;color: #F1E9DA;">Navigate to copy the file.</label><label hidden id="copy-containers-label" style="font-size: small;font-weight: bold;color: #F1E9DA;">Open container to copy the file.</label><label hidden id="copy-editor-label" style="font-size: small;font-weight: bold;color: #F1E9DA;">Close editor to copy the file.</label></td><td style="width: 80px;"><button autocomplete="off" id="copy-cancel-button">Cancel</button></td></tr>
                        </table>
                    </div>

                    <div id="copy-name-dialog" class="dialog-bar" hidden>
                        <table><tr><td style="background-color: white;border-radius: 2px;height: 28px;"><input autocomplete="off" id="copy-name" placeholder="File Name" style="margin: 0 1%;width: 98%;border: 0;"></td><td style="width: 80px;"><button autocomplete="off" id="copy-name-ok-button">OK</button></td><td style="width: 80px;"><button autocomplete="off" id="copy-name-cancel-button">Cancel</button></td></tr>
                        </table>
                    </div>
                    <div id="delete-dialog" class="dialog-bar" hidden>
                        <table><tr><td style=" color:white;border-radius: 2px;height: 28px;padding: 0 5px;">Are you sure you want to delete?</td><td style="width: 80px;"><button autocomplete="off" id="delete-ok-button">Delete</button></td><td style="width: 80px;"><button autocomplete="off" id="delete-cancel-button">Cancel</button></td></tr></table>
                    </div>
                    <div id="close-editor-dialog" class="dialog-bar" hidden>
                        <table><tr><td style=" color:white;border-radius: 2px;height: 28px;padding: 0 5px;">File is not saved.</td><td style="width: 150px;"><button autocomplete="off" id="editor-save-close-button">Save and close</button></td><td style="width: 150px;"><button autocomplete="off" id="editor-close-button">Close without saving</button></td><td style="width: 80px;"><button autocomplete="off" id="editor-cancel-button">Cancel</button></td></tr></table>
                    </div>
                    <div id="metadata-dialog" class="dialog-bar" hidden>
                        <table>
                            <tbody>
                            <tr>
                                <td style="background-color: white;border-radius: 2px;height: 28px;"><div><input autocomplete="off" placeholder="Key" /></div></td>
                                <td style="background-color: white;border-radius: 2px;height: 28px;"><div><input autocomplete="off" placeholder="Value" /></div></td>
                            </tr>
                            <tr>
                                <td style="background-color: white;border-radius: 2px;height: 28px;"><div><input autocomplete="off" placeholder="Key" /></div></td>
                                <td style="background-color: white;border-radius: 2px;height: 28px;"><div><input autocomplete="off" placeholder="Value" /></div></td>
                            </tr>
                            <tr>
                                <td style="background-color: white;border-radius: 2px;height: 28px;"><div><input autocomplete="off" placeholder="Key" /></div></td>
                                <td style="background-color: white;border-radius: 2px;height: 28px;"><div><input autocomplete="off" placeholder="Value" /></div></td>
                            </tr>
                            </tbody>
                            <tfoot>
                                <tr>
                                    <td><button autocomplete="off" id="metadata-save-button" style="float: right;">Save</button></td><td><button autocomplete="off" id="metadata-cancel-button">Cancel</button></td><td></td>
                                </tr>
                            </tfoot>
                        </table>
                    </div>

<!--
                    <div id="rights-dialog" class="dialog-bar" hidden>
                        <table>
                            <tr>
                                <td style="width: 1px;font-size: small;vertical-align: middle;font-weight: bolder;">Read</td>
                                <td style="background: white;border-radius: 1px;"><input autocomplete="off" id="read-rights" /></td>
                                <td rowspan="2" style="width:1px;"><button autocomplete="off" id="rights-save-button" class="rights-button">Save</button></td>
                                <td rowspan="2" style="width:1px;"><button autocomplete="off" id="rights-cancel-button" class="rights-button">Cancel</button></td>
                            </tr>
                            <tr>
                                <td style="width: 1px;font-size: small;vertical-align: middle;font-weight: bolder;">Write</td>
                                <td style="background: white;border-radius: 1px;"><input autocomplete="off" id="write-rights" /></td>
                            </tr>
                        </table>
                    </div>
!-->
                    <div id="file-type-dialog" class="dialog-bar" hidden>
                        <table><tr><td style="background-color: white;border-radius: 2px;height: 28px;"><input autocomplete="off" id="file-type" placeholder="File type" style="margin: 0 1%;width: 98%;border: 0;"></td><td style="width: 80px;"><button autocomplete="off" id="type-ok-button">OK</button></td><td style="width: 80px;"><button autocomplete="off" id="type-cancel-button">Cancel</button></td></tr>
                        </table>
                    </div>


                    <div id="loading-dialog" class="dialog-bar" hidden>
                        <table><tr><td><h1 style="margin: 0;text-align: center;">Loading...</h1></td></tr></table>
                    </div>
                    <div id="timer-dialog" class="dialog-bar" hidden>
                        <table><tr><td><h1 style="margin: 0;text-align: center;"><span id="timer-minutes">00</span>:<span id="timer-seconds">00</span></h1></td></tr></table>
                    </div>

                    <div id="execute-dialog" class="dialog-bar" hidden>
                        <table>
                            <tr>
                                <td>
                                    <table>
                                        <thead>
                                            <tr style="background: #535353;">
                                                <th colspan="2">Execution Report</th>
                                            </tr>
                                        </thead>
                                        <tbody id="execute-tbody">
                                            <tr id="execute-status-tr">
                                                <td class="execute-report-part-name">
                                                    Status
                                                </td>
                                                <td id="execute-status-val">

                                                </td>
                                            </tr>
                                            <tr id="execute-error-tr">
                                                <td class="execute-report-part-name">
                                                    Error
                                                </td>
                                                <td id="execute-error-val">

                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    </td></tr>

                            <tr>
                                <td>
                                    <button autocomplete="off" id="execute-full-button" style="height: 40px;margin-bottom: 3px;background: darkgray;cursor: pointer;text-decoration: underline;">Show full report</button>
                                </td>
                            </tr>
                            <tr><td>
                                    <table>
                                        <thead>
                                        <tr style="background: #535353;">
                                            <th id="billing-report-title">Billing Report</th>
                                        </tr>
                                        </thead>
                                        <tbody id="billing-tbody">
                                        <tr id="total-time-tr">
                                            <td class="billing-report-part-name">
                                                Total time
                                            </td>
                                        </tr>
                                        <tr id="node-number-tr">
                                            <td class="billing-report-part-name">
                                                Node #
                                            </td>
                                        </tr>
                                        <tr id="node-server-time-tr">
                                            <td class="billing-report-part-name">
                                                Node server time
                                            </td>
                                        </tr>
                                        <tr id="system-time-tr">
                                            <td class="billing-report-part-name">
                                                System time
                                            </td>
                                        </tr>
                                        <tr id="user-time-tr">
                                            <td class="billing-report-part-name">
                                                User time
                                            </td>
                                        </tr>
                                        <tr id="memory-used-tr">
                                            <td class="billing-report-part-name">
                                                Memory used
                                            </td>
                                        </tr>
                                        <tr id="swap-used-tr">
                                            <td class="billing-report-part-name">
                                                Swap used
                                            </td>
                                        </tr>
                                        <tr id="reads-from-disk-tr">
                                            <td class="billing-report-part-name">
                                                Number of reads from disk
                                            </td>
                                        </tr>
                                        <tr id="bytes-read-from-disk-tr">
                                            <td class="billing-report-part-name">
                                                Number of bytes read from disk
                                            </td>
                                        </tr>
                                        <tr id="writes-to-disk-tr">
                                            <td class="billing-report-part-name">
                                                Number of writes to disk
                                            </td>
                                        </tr>
                                        <tr id="bytes-written-to-disk-tr">
                                            <td class="billing-report-part-name">
                                                Number of bytes written to disk
                                            </td>
                                        </tr>
                                        <tr id="reads-from-network-tr">
                                            <td class="billing-report-part-name">
                                                Number of reads from network
                                            </td>
                                        </tr>
                                        <tr id="bytes-read-from-network-tr">
                                            <td class="billing-report-part-name">
                                                Number of bytes read from network
                                            </td>
                                        </tr>
                                        <tr id="writes-to-network-tr">
                                            <td class="billing-report-part-name">
                                                Number of writes to network
                                            </td>
                                        </tr>
                                        <tr id="bytes-written-to-network-tr">
                                            <td class="billing-report-part-name">
                                                Number of bytes written to network
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <button autocomplete="off" id="execute-close-button" style="height: 40px;">Close</button>
                                </td>
                            </tr>
                        </table>
                    </div>

                    <div id="list-headers" hidden>
                        <div id="list-headers-right-margin"></div><!--
                        --><div id="list-name-header">Name</div><!--
                        --><div id="list-size-header">Size</div><!--
                        --><div id="list-modified-header">Modified</div><!--
                        --><div id="list-files-header">Files</div>
                    </div>
                    <style>
                        #search-div {
                            position: relative;
                            width: 100%;
                            background: rgb(255,255,255); /* Old browsers */
                            background: -moz-linear-gradient(top,  rgba(255,255,255,1) 0%, rgba(241,241,241,1) 50%, rgba(225,225,225,1) 51%, rgba(246,246,246,1) 100%); /* FF3.6+ */
                            background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(255,255,255,1)), color-stop(50%,rgba(241,241,241,1)), color-stop(51%,rgba(225,225,225,1)), color-stop(100%,rgba(246,246,246,1))); /* Chrome,Safari4+ */
                            background: -webkit-linear-gradient(top,  rgba(255,255,255,1) 0%,rgba(241,241,241,1) 50%,rgba(225,225,225,1) 51%,rgba(246,246,246,1) 100%); /* Chrome10+,Safari5.1+ */
                            background: -o-linear-gradient(top,  rgba(255,255,255,1) 0%,rgba(241,241,241,1) 50%,rgba(225,225,225,1) 51%,rgba(246,246,246,1) 100%); /* Opera 11.10+ */
                            background: -ms-linear-gradient(top,  rgba(255,255,255,1) 0%,rgba(241,241,241,1) 50%,rgba(225,225,225,1) 51%,rgba(246,246,246,1) 100%); /* IE10+ */
                            background: linear-gradient(to bottom,  rgba(255,255,255,1) 0%,rgba(241,241,241,1) 50%,rgba(225,225,225,1) 51%,rgba(246,246,246,1) 100%); /* W3C */
                            filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#f6f6f6',GradientType=0 ); /* IE6-9 */
                        }
                        #clear-search {
                            background: transparent;
                            border: 0;
                            top: 6px;
                            right: 22px;
                            position: absolute;
                        }
                    </style>
                    <div id="search-div" hidden>
                        <input autocomplete="off" placeholder="Search" style="border: ridge 1px gainsboro;padding: 2px 1%;width: 93%;margin: 5px 2%;border-radius: 8px;background-color: #ffffff">
                        <button autocomplete="off" id="clear-search" hidden>X</button>
                    </div>
                </td>
            </tr>
            <tr>
                <td id="content">
                    <div id="scrollable">
                        <div id="list">
                            <div id="item-template" hidden><!--
                                <tr class="item unselected-item" data-path="{path}" data-deletable="{deletable}" data-editable="{editable}" id="{id}" data-marker="{marker}" data-type="{type}">
                                    <td class="item-icon">
                                            <img src="{icon}">
                                    </td>
                                    <td class="item-name" title="{title}">{name}</td>
                                    <td class="item-size">{size}</td>
                                    <td class="item-files">{files}</td>
                                    <td class="item-modified">{modified}</td>
                                </tr>
                            --></div>
                            <div id="item-upload-template" hidden><!--
                                <tr class="unselected-item item-upload-file" id="{id}">
                                    <td class="item-uploading" colspan="3">
                                        <div class="progress_bar">
                                            <div  class="progress-color">
                                                <div style="display: inline-block;min-width: 420px;">
                                                    <img src="img/file32.png">
                                                    <div class="uploading-file-name">{file-name}</div>
                                                    <div class="progress-percent">0%</div>
                                                    <div class="status"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </td>
                                    <td style="width: 80px;">
                                        <button autocomplete="off" class="upload-cancel-button" style="height: 40px;">Cancel</button>
                                    </td>
                                </tr>
                            --></div>
                            <div id="item-upload-as-template" hidden><!--
                                <tr class="unselected-item item-upload-as-file" id="{id}">
                                    <td class="item-icon">
                                            <img src="img/file32.png">
                                    </td>
                                    <td colspan="2"><input autocomplete="off" class="upload-as-file-name" value="{file-name}" style="width: 48%;font-size: 14px;" /><input autocomplete="off" class="upload-as-file-type" value="{file-type}" style="width: 48%;font-size: 14px;" /></td>
                                    <td style="width: 80px;">
                                        <button autocomplete="off" class="start-upload-button" style="height: 40px;">Upload</button>
                                    </td>
                                </tr>
                            --></div>
                            <div id="item-execute-template" hidden><!--
                                <tr class="unselected-item item-upload-file" id="{id}">
                                    <td class="item-uploading" colspan="3">
                                        <div class="progress_bar">
                                            <div  class="progress-color">
                                                <div style="display: inline-block;min-width: 420px;">
                                                    <img src="img/file32.png">
                                                    <div class="uploading-file-name">{file-name}</div>
                                                    <div class="progress-percent">0%</div>
                                                    <div class="status"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </td>
                                    <td style="width: 80px;">
                                        <button autocomplete="off" class="execute-cancel-button" style="height: 40px;">Cancel</button>
                                    </td>
                                </tr>
                            --></div>
                            <div id="no-containers" hidden>
                                There is no containers.
                                <span class="create">Create container.</span>
                            </div>
                            <div id="no-containers-found" hidden>
                                Containers not found.
                            </div>
                            <div id="no-files" hidden>
                                There is no files.
                                <span class="upload"><span><input autocomplete="off" class="upload-button" type="file" name="files[]" multiple style="opacity: 0;position: absolute;"></span>Upload file.</span>
                            </div>
                            <div id="no-files-found" hidden>
                                Files not found.
                            </div>
                            <table id="items">
                            </table>
                        </div>
                    </div>
                    <iframe id="editor" hidden></iframe>
                </td>
            </tr>
        </table>
    </div>


    <div id="metadata-row-template"><!--
        <tr {attr}>
            <td style="background-color: #FDFDFD;height: 28px;"><div><input autocomplete="off" class="metadata-key" placeholder="Key" value="{key}" /><label hidden class="metadata-error metadata-exist">This metadata key is already exist.</label></div></td>
            <td style="background-color: white;height: 28px;"><div><input autocomplete="off" class="metadata-val" placeholder="Value" value="{value}" /></div></td>
            <td class="delete-metadata">X</td>
        </tr>
    --></div>

    <div id="toolbar-template"><!--
    <tr style="background: lightgray;">
    <td colspan="5">
        <div id="toolbar" hidden>
            <button autocomplete="off" id="toolbar-execute-button">Execute</button><button autocomplete="off" id="toolbar-open-button">Open</button><button autocomplete="off" id="toolbar-edit-button">Edit</button><button autocomplete="off" id="toolbar-board-button">Board</button><a target="_blank"><button autocomplete="off" id="toolbar-download-button">Download</button></a><button autocomplete="off" id="toolbar-delete-button">Delete</button><button autocomplete="off" id="toolbar-copy-button">Copy</button><button autocomplete="off" id="toolbar-metadata-button">Metadata</button><button autocomplete="off" id="toolbar-remove-button">Remove</button><button autocomplete="off" id="toolbar-type-button">Change type</button>
        </div>
        </td>
        </tr>
    --></div>
</body>
</html>